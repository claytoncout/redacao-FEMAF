<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vestibular Online | FEMAF</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="background-mesh"></div>

    <div id="intro-overlay" class="intro-screen">
        <div class="intro-card">
            <div class="brand-header">
                <div class="brand-logo"><i class="ph-fill ph-graduation-cap"></i></div>
                <h2 class="brand-title">Vestibular <strong>FEMAF</strong></h2>
            </div>

            <div class="intro-content">
                <header class="intro-text">
                    <h1>Ambiente de Avaliação</h1>
                    <p id="introDescription">Preencha seus dados para iniciar a prova ou realizar sua inscrição.</p>
                </header>

                <div id="introBadges" class="info-badges">
                    <div class="badge warning">
                        <i class="ph-bold ph-clock"></i> <span>3 Horas</span>
                    </div>
                    <div class="badge info">
                        <i class="ph-bold ph-text-aa"></i> <span>1000 a 2000 caracteres</span>
                    </div>
                </div>

                <div class="login-grid">
                    
                    <div class="input-group">
                        <label for="entryMethod">Forma de Ingresso</label>
                        <div class="input-box">
                            <i class="ph ph-ticket"></i>
                            <select id="entryMethod" class="custom-select">
                                <option value="" disabled selected>Selecione a forma de ingresso...</option>
                                <option value="prova_online">Prova Online (Redação)</option>
                                <option value="enem">Nota do ENEM</option>
                                <option value="transferencia">Transferência Externa</option>
                            </select>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="introName">Nome Completo</label>
                        <div class="input-box">
                            <i class="ph ph-user"></i>
                            <input type="text" id="introName" placeholder="Digite seu nome completo" autocomplete="name">
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="introPhone">WhatsApp</label>
                        <div class="input-box">
                            <i class="ph ph-whatsapp-logo"></i>
                            <input type="tel" id="introPhone" placeholder="(99) 99999-9999" maxlength="15">
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="introModality">Modalidade</label>
                        <div class="input-box">
                            <i class="ph ph-map-pin"></i>
                            <select id="introModality" class="custom-select">
                                <option value="" disabled selected>Selecione a modalidade...</option>
                                <option value="Presencial">Presencial</option>
                                <option value="EAD">EAD (Online)</option>
                            </select>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="introCourse">Curso Desejado</label>
                        <div class="input-box">
                            <i class="ph ph-books"></i>
                            <select id="introCourse" class="custom-select" disabled>
                                <option value="" disabled selected>Selecione a modalidade acima primeiro</option>
                            </select>
                        </div>
                    </div>

                    <div id="enemFields" class="hidden">
                        <div class="input-group" style="margin-top: 16px;">
                            <label for="enemYear">Ano de Realização (ENEM)</label>
                            <div class="input-box">
                                <i class="ph ph-calendar-blank"></i>
                                <input type="number" id="enemYear" placeholder="Ex: 2023" min="2010" max="2025">
                            </div>
                        </div>
                        <div class="input-group" style="margin-top: 16px;">
                            <label for="enemScore">Média Obtida</label>
                            <div class="input-box">
                                <i class="ph ph-chart-bar"></i>
                                <input type="number" id="enemScore" placeholder="Ex: 650.5" step="0.1">
                            </div>
                        </div>
                    </div>
                    
                    <div id="loginError" class="error-toast hidden">
                        <i class="ph-bold ph-warning-circle"></i> Por favor, preencha todos os campos.
                    </div>
                </div>

                <button id="startExamBtn" class="btn-primary large">
                    Iniciar <i class="ph-bold ph-caret-right"></i>
                </button>
            </div>
        </div>
    </div>

    <div id="main-exam-container" class="exam-layout hidden-section">
        <header class="app-header">
            <div class="header-left">
                <div class="logo-mini">FEMAF</div>
            </div>
            <div class="header-right">
                <div class="timer-badge" id="timerBox">
                    <i class="ph-bold ph-clock"></i>
                    <span id="displayTimer">03:00:00</span>
                </div>
            </div>
        </header>

        <main class="exam-workspace">
            <form id="contactForm" class="workspace-grid">
                <aside class="theme-panel">
                    <div class="panel-card user-card">
                        <div class="card-label">
                            <i class="ph-bold ph-identification-badge"></i> Candidato
                        </div>
                        <div class="user-data-list">
                            <div class="data-item">
                                <span class="data-label">Nome</span>
                                <input type="text" id="sidebarName" class="clean-input" disabled value="...">
                            </div>
                            <div class="data-item">
                                <span class="data-label">Curso Selecionado</span>
                                <input type="text" id="sidebarCourse" class="clean-input" disabled value="...">
                            </div>
                        </div>
                    </div>

                    <div class="panel-card theme-card">
                        <div class="card-label"><i class="ph-bold ph-lightbulb"></i> Tema da Redação</div>
                        <h2 id="themeDisplay">Tema Livre</h2>
                        <p id="themeSupportText">
                            Escreva um texto dissertativo-argumentativo sobre um tema relevante para a sociedade brasileira contemporânea.
                        </p>
                    </div>
                    
                    <div class="panel-card info-card">
                        <div class="card-label"><i class="ph-bold ph-shield-warning"></i> Regras de Segurança</div>
                        <ul>
                            <li><strong>Não saia desta tela:</strong> Se você trocar de aba ou minimizar, seu texto será apagado automaticamente.</li>
                            <li><strong>Monitoramento Ativo:</strong> O sistema registra suas ações.</li>
                        </ul>
                    </div>
                </aside>

                <section class="editor-panel">
                    <div class="editor-wrapper">
                        <div class="editor-header">
                            <span class="tab-active">Folha de Resposta</span>
                            <div class="char-counter" id="counterBox">
                                <span id="charCounter">0</span> / 2000
                            </div>
                        </div>
                        
                        <textarea 
                            id="redacao" 
                            name="redacao" 
                            placeholder="Comece a digitar sua redação aqui..."
                            spellcheck="false"
                            required
                        ></textarea>
                    </div>

                    <div class="editor-footer">
                        <div class="security-badge">
                            <i class="ph-fill ph-circle"></i> Sistema Monitorado
                        </div>
                        <button type="submit" id="submitBtn" class="btn-primary">
                            Entregar e Finalizar <i class="ph-bold ph-paper-plane-right"></i>
                        </button>
                    </div>
                </section>
            </form>
        </main>
    </div>

    <div id="successMessage" class="modal-overlay hidden">
        <div class="modal-card success">
            <div class="icon-circle success"><i class="ph-bold ph-check"></i></div>
            <h2 id="successTitle">Prova Recebida!</h2>
            <p id="successDesc">Sua redação foi enviada com sucesso para nossa equipe de correção.</p>
            <div class="receipt-box">
                <div class="row"><span>Protocolo:</span> <strong id="protocolDisplay">...</strong></div>
                <div class="row"><span>Data:</span> <strong id="submitDate">--/--/----</strong></div>
            </div>
        </div>
    </div>

    <div id="errorMessage" class="modal-overlay hidden">
        <div class="modal-card error">
            <div class="icon-circle warning"><i class="ph-bold ph-ruler"></i></div>
            <h2>Ajuste Necessário</h2>
            <p>Para garantir uma boa avaliação, seu texto deve ter entre <strong>1000</strong> e <strong>2000</strong> caracteres.</p>
            <div class="error-details">
                Contagem atual: <strong id="currentCharsDisplay">0</strong>
            </div>
            <button id="closeErrorBtn" class="btn-danger">Voltar e Editar</button>
        </div>
    </div>

    <div id="fraudMessage" class="modal-overlay hidden">
        <div class="modal-card error">
            <div class="icon-circle error"><i class="ph-bold ph-warning-octagon"></i></div>
            <h2>Atenção!</h2>
            <p>Você saiu da aba da prova.</p>
            <p>Por medidas de segurança, <strong>todo o seu texto foi apagado</strong> automaticamente.</p>
            
            <button id="restartExamBtn" class="btn-danger" style="margin-top: 10px;">
                <i class="ph-bold ph-arrow-counter-clockwise"></i> Entendi, retomar prova
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
